% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/easy_pca_fit.R
\name{easy_pca_fit}
\alias{easy_pca_fit}
\title{Easy PCA (Fit and Diagnostics)}
\usage{
easy_pca_fit(data, vars, group = NULL, ft = TRUE)
}
\arguments{
\item{data}{A data frame containing the full dataset.}

\item{vars}{Character vector of variable names to use in PCA (required).
All variables must be numeric.}

\item{group}{Optional; single variable name (string) to aggregate by before PCA.}

\item{ft}{Logical; if \code{TRUE}, return \code{$table} as a flextable
(default = \code{TRUE}).}
}
\value{
A list with components:
\describe{
\item{table}{Eigenvalue table (data.frame or flextable).}
\item{plot}{Scree plot (ggplot).}
\item{pcaobj}{The fitted \code{prcomp} object.}
\item{key}{Row ids (ungrouped) or group labels (grouped), aligned to \code{data_used}.}
\item{data_used}{Numeric data actually used in PCA (after preprocessing).}
}
}
\description{
Fit a principal components analysis (PCA) model and return diagnostics to
help choose how many components to retain.
}
\details{
PCA is fit using \code{\link[stats:prcomp]{stats::prcomp}} with
\code{center = TRUE} and \code{scale. = TRUE}. If \code{group} is supplied,
PCA is fit on mean-aggregated values of \code{vars} by group. Rows (or
groups) with missing values in \code{vars} are dropped prior to fitting.
}
\examples{
\dontrun{
fit <- easy_pca_fit(
  data = mydata,
  vars = c("perform", "leader", "fun", "serious", "bargain", "value")
)
fit$table
fit$plot

# Grouped PCA
fit_g <- easy_pca_fit(mydata, vars = c("x1","x2","x3"), group = "brand")
}

}
