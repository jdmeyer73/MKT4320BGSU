% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/easy_pca_maps.R
\name{easy_pca_maps}
\alias{easy_pca_maps}
\title{Easy Attribute-Based Perceptual Maps (PCA Pairwise)}
\usage{
easy_pca_maps(
  data,
  vars,
  group,
  comp,
  pref = NULL,
  rotate = TRUE,
  arrow_scale = 0.75,
  label_pad = 0.04
)
}
\arguments{
\item{data}{Data frame containing individual-level observations.}

\item{vars}{Character vector of numeric attribute variable names used in PCA.}

\item{group}{Single string specifying the grouping variable
(e.g., brand or product name).}

\item{comp}{Integer specifying the number of components to retain (must be \eqn{\ge 2}).}

\item{pref}{Optional single string specifying a numeric preference variable name.}

\item{rotate}{Logical; if \code{TRUE} (default), apply varimax rotation to the
retained component space before creating perceptual maps.}

\item{arrow_scale}{Numeric in (0, 1]; scales arrow lengths relative to the object range
(default = 0.75).}

\item{label_pad}{Numeric; distance (as a proportion of the axis range) used to
push attribute arrow labels beyond arrow tips (default = 0.04).}
}
\value{
A list with:
\itemize{
\item \code{$plots}: Named list of \pkg{ggplot2} perceptual maps
(one per component pair).
\item \code{$objects}: Data frame of object coordinates in the retained
component space.
\item \code{$attributes}: Data frame of attribute vectors in the retained
component space.
\item \code{$pref_vector}: Numeric vector representing the preference direction
in the retained component space (or \code{NULL} if not supplied).
\item \code{$pairs}: Matrix of component pairs used to generate maps.
\item \code{$k_used}: Number of components actually used for mapping.
\item \code{$pcaobj}: \code{prcomp} object fit on grouped attribute means.
\item \code{$data_grouped}: Grouped data frame used to fit the PCA.
}
}
\description{
Create attribute-based perceptual maps from PCA coordinates using grouped data.
Produces all pairwise 2D maps among up to the first 4 retained components.
}
\details{
\itemize{
\item Data are first aggregated by \code{group} using means of \code{vars}
(and \code{pref} if supplied).
\item PCA is fit on the aggregated attribute means with \code{scale.=TRUE}.
\item Students specify \code{comp}, the number of components to retain.
\item The function uses up to the first 4 components
(\code{k = min(comp, 4, \# PCs available)}).
\item Pairwise perceptual maps are created:
\itemize{
\item 2 components \eqn{\rightarrow} 1 map
\item 3 components \eqn{\rightarrow} 3 maps
\item 4 components \eqn{\rightarrow} 6 maps
}
\item Attribute vectors are derived from PCA loadings and (by default)
varimax-rotated for interpretability.
\item Object (brand) coordinates are computed as standardized grouped means
projected onto the retained component space.
\item If \code{pref} is supplied, a preference vector is computed in the
retained component space and projected onto each 2D map.
\item Attribute labels are positioned using constant padding beyond arrow tips
and adjusted with \pkg{ggrepel} to reduce overlap.
\item Object (brand) labels use \pkg{ggrepel} without leader lines.
}
}
\examples{
\dontrun{
maps <- easy_pca_maps(
  data  = greekbrands,
  vars  = c("perform", "leader", "fun", "serious", "bargain", "value"),
  group = "brand",
  comp  = 3
)

maps$plots[[1]]
}

}
\seealso{
\code{\link{percmap}}
}
