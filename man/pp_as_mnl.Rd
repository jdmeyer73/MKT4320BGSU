% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/pp_as_mnl.R
\name{pp_as_mnl}
\alias{pp_as_mnl}
\title{Predicted Probabilities and Marginal Effects for Alternative-Specific MNL}
\usage{
pp_as_mnl(
  OBJ,
  focal_var,
  focal_type = c("auto", "alt", "case"),
  grid_n = 25,
  digits = 4,
  ft = FALSE,
  marginal = TRUE,
  me_method = c("observed", "means"),
  me_step = 1
)
}
\arguments{
\item{OBJ}{A fitted \code{mlogit} model.}

\item{focal_var}{Character string. Name of the focal variable.}

\item{focal_type}{Character; one of \code{"case"}, \code{"alt"}, or
\code{"auto"} (default).}

\item{grid_n}{Integer; number of points used to construct the grid of focal
values for predicted probability plots when the focal variable is
continuous (default = 25).}

\item{digits}{Integer; rounding for numeric output.}

\item{ft}{Logical; if \code{TRUE}, return tables as \code{flextable} objects.}

\item{marginal}{Logical; if \code{TRUE}, compute marginal effects.}

\item{me_method}{Character; \code{"observed"} (AME, default) or
\code{"means"}.}

\item{me_step}{Numeric; finite-difference step size for AME.}
}
\value{
A list with components that may include:
\itemize{
\item \code{pp_table}: predicted probability table,
\item \code{pp_plot}: margin plot (\code{ggplot}),
\item \code{me_table}: marginal effects table (if requested),
\item \code{me_table_df}: marginal effects as a plain data frame.
}
}
\description{
Compute predicted probability tables, margin plots, and (optionally)
marginal effects for a fitted alternative-specific multinomial logit
model estimated via \code{mlogit}.

This function replaces the legacy functions \code{asmnl_me()} and
\code{asmnl_mp()} by providing a single, unified interface.
}
\details{
The function operates on a fitted \code{mlogit} object and computes results
for one focal variable at a time. Depending on arguments, it can return:
\itemize{
\item predicted probability tables,
\item margin plots,
\item average marginal effects (AME) or marginal effects at means.
}

Case-specific and alternative-specific focal variables are handled
automatically based on \code{focal_type}.
}
\examples{
# res <- pp_as_mnl(mod, focal_var = "income")
# res$pp_plot

# res_me <- pp_as_mnl(mod, focal_var = "income", marginal = TRUE)
# res_me$me_table

}
