% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/eval_as_mnl.R
\name{eval_as_mnl}
\alias{eval_as_mnl}
\title{Evaluate a Fitted Alternative-Specific MNL (Fit + Coefs + Classification)}
\usage{
eval_as_mnl(
  model,
  digits = 4,
  ft = FALSE,
  newdata = NULL,
  label_model = "Model data",
  label_newdata = "New data",
  class_digits = 3
)
}
\arguments{
\item{model}{A fitted \code{mlogit} model.}

\item{digits}{Integer; decimals to round coefficient and fit results (default 4).}

\item{ft}{Logical; if \code{TRUE}, return coefficient and classification tables
as \code{flextable} objects (default \code{FALSE}).}

\item{newdata}{Optional \code{dfidx} object for an additional classification matrix
(e.g., a test set). If \code{NULL}, only the training-data matrix is produced.}

\item{label_model}{Character; label for the training-data classification matrix
(default "Model data").}

\item{label_newdata}{Character; label for the \code{newdata} classification matrix
(default "New data").}

\item{class_digits}{Integer; decimals to round classification results (default 3).}
}
\value{
An object of class \code{"eval_as_mnl"}: a list with
\itemize{
\item \code{mnmodel}: the fitted \code{mlogit} model
\item \code{fit}: one-row data frame with LL, AIC, BIC, McFadden R2, LR chi2, df, p-value (when available)
\item \code{coef_table}: coefficient output (data frame or flextable)
\item \code{coef_table_df}: coefficient table as a plain data frame (always)
\item \code{classify_model}: classification results for model (training) data (matrix/list when ft=FALSE; flextable when ft=TRUE)
}
}
\description{
Given a fitted \code{mlogit} model, compute:
(1) model fit stats (LL, AIC, BIC, McFadden R^2, LR test when available);
(2) a coefficient table (log-odds + OR) with SE/z/p-values; and
(3) classification matrix + diagnostics on the model (training) data automatically,
plus optional classification on \code{newdata}.
}
\details{
Students should fit the model themselves using \code{mlogit::mlogit(..., data = train.mdata)}.
The training data used by \code{mlogit} are stored inside the fitted object
(as a \code{dfidx} object), so you do not need to pass the original long data,
or id/alt/choice variable names, to compute in-sample classification.

Classification is computed at the \emph{case} (choice-set) level: for each case,
the predicted alternative is the one with the highest predicted probability.
One-vs-rest Sensitivity/Specificity/Precision are computed using
\code{caret::confusionMatrix()}, matching the approach used in \code{eval_std_mnl()}.

For holdout evaluation, pass \code{newdata} as a \code{dfidx} object
(recommended: \code{test.mdata} from \code{splitsample()}).
}
