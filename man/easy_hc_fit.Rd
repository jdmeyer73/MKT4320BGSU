% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/easy_hc_fit.R
\name{easy_hc_fit}
\alias{easy_hc_fit}
\title{Easy Hierarchical Clustering (Fit & Diagnostics)}
\usage{
easy_hc_fit(
  data,
  vars,
  dist = c("euc", "euc2", "max", "abs", "bin"),
  method = c("ward", "single", "complete", "average"),
  k_range = 1:10,
  standardize = TRUE,
  show_dend = TRUE,
  dend_max_n = 300
)
}
\arguments{
\item{data}{A data frame containing the full dataset.}

\item{vars}{Character vector of numeric segmentation variable names.}

\item{dist}{Distance measure. One of \code{"euc"}, \code{"euc2"},
\code{"max"}, \code{"abs"}, or \code{"bin"}.}

\item{method}{Linkage method. One of \code{"ward"}, \code{"single"},
\code{"complete"}, or \code{"average"}.}

\item{k_range}{Integer vector of cluster solutions to evaluate
(default = \code{1:10}; allowed values 1--20).}

\item{standardize}{Logical; if \code{TRUE} (default), segmentation variables
are standardized prior to clustering.}

\item{show_dend}{Logical; if \code{TRUE} (default), display a dendrogram
(suppressed automatically for large samples).}

\item{dend_max_n}{Integer; maximum sample size for drawing a dendrogram
(default = 300).}
}
\value{
A list with the following components:
\describe{
\item{hc}{The fitted \code{\link[stats]{hclust}} object.}
\item{diss}{The distance object used for clustering.}
\item{stop_raw}{A data frame of stopping indices and balance diagnostics by
number of clusters.}
\item{stop}{A formatted \code{\link[flextable]{flextable}} version of
\code{stop_raw}.}
\item{size_prop_raw}{A data frame of cluster size proportions for each
candidate solution. Rows correspond to cluster solutions and columns
correspond to cluster numbers (up to \code{max(k_range)}).}
\item{size_prop}{A formatted \code{\link[flextable]{flextable}} version of
\code{size_prop_raw}.}
\item{data_scaled}{The standardized segmentation data (or \code{NULL} if
\code{standardize = FALSE}).}
\item{settings}{A list of settings used to fit the clustering model.}
\item{key}{A list containing row-index information for rows used and dropped
during clustering.}
}
}
\description{
Fit a hierarchical agglomerative clustering solution using selected numeric
segmentation variables, compute stopping rules and cluster-balance diagnostics
across a range of cluster solutions, and optionally display a dendrogram.
}
\details{
Rows with missing values in the segmentation variables are dropped prior to
clustering. The indices of rows used (and dropped) are stored internally so
cluster membership can be reattached later using
\code{\link{easy_hc_final}}.

Diagnostic outputs include multiple stopping rules (Duda--Hart,
pseudo-\eqn{t^2}) as well as
cluster-size balance measures. A table of cluster size proportions is also
returned to help assess whether candidate solutions contain very small or
dominant clusters.
}
\examples{
\dontrun{
fit <- easy_hc_fit(
  data = ffseg,
  vars = c("eatin", "hours", "health"),
  k_range = 2:6
)

# Stopping rules and diagnostics
fit$stop

# Cluster size proportions by solution
fit$size_prop
}

}
